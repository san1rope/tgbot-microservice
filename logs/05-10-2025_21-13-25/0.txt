mtprotosender.py:228 #INFO     [2025-10-05 21:13:25,652] - telethon.network.mtprotosender - 0| Connecting to 149.154.167.92:443/TcpFull...
mtprotosender.py:279 #INFO     [2025-10-05 21:13:25,687] - telethon.network.mtprotosender - 0| Connection to 149.154.167.92:443/TcpFull complete!
utils.py:67 #INFO     [2025-10-05 21:13:26,048] - root - 0| Client has been connected!
utils.py:67 #INFO     [2025-10-05 21:13:26,049] - root - 0| Redis has been initialized!
utils.py:67 #INFO     [2025-10-05 21:13:26,049] - root - 0| Prepare to load data in redis...
utils.py:67 #INFO     [2025-10-05 21:13:26,049] - root - 0| Loading messages data from small groups...
utils.py:67 #INFO     [2025-10-05 21:13:26,569] - root - 0| Data from small groups has been loaded!
utils.py:67 #INFO     [2025-10-05 21:13:26,569] - root - 0| Event handlers has been registered!
utils.py:67 #INFO     [2025-10-05 21:13:56,930] - root - 0| Event called. MessageEdited
utils.py:67 #INFO     [2025-10-05 21:13:57,315] - root - 0| Request. status: 200. https://tenerife.chat/chat/webhook/telegram/update 
<pre>{
  "type": "message_update",
  "chat_id": -4907822179,
  "message_id": 230,
  "text": "1. При событии  topic_updated остается старый title \n\n{\n  \"type\": \"topic_updated\",\n  \"chat_id\": -1002504189424,\n  \"topic_id\": 15,\n  \"title\": \"test\", <- остается старый title \n  \"icon_color\": 16478047,\n  \"sender\": {\n    \"id\": 956316355,\n    \"first_name\": \"webjeyros\",\n    \"username\": \"webjeyros\",\n    \"language_code\": null\n  },\n  \"chat_info\": {\n    \"title\": \"test_bot_public\",\n    \"username\": \"bot_test_public_2025\",\n    \"type\": \"supergroup\",\n    \"is_forum\": true,\n    \"member_count\": 2\n  },\n  \"timestamp\": \"2025-10-05T17:42:45Z\"\n}\n\n2.  При удалении топика , происходит событие MessageDeleted.\nно на вебхук /webhook/telegram/topicDeleted ничего не приходит, в телеграм  приходит \n05.10.2025 20:57:34 | INFO | Event called. MessageDeleted без JSON payload .\nВцелом, это нормальное поведение, телеграм по другому не присылает уведомление\nо у далении топика. Нужно как-то \"запоминать\\кэшировать\" topic_id при создании и потом\nсравнивать topic_id и  message_ids при наступлении ивента MessageDeleted.  Если присутвует,\nто присылать /webhook/telegram/topicDeleted\n\n3. При удалении бота из группы ничего не происходит, должно быть уведомление \nна /webhook/telegram/deleteChat.\n\nВ остальном вроде ок.",
  "message_type": 1,
  "topic_id": null,
  "sender": {
    "id": 956316355,
    "first_name": "webjeyros",
    "username": "webjeyros",
    "language_code": null
  },
  "chat_info": {
    "title": "Telega",
    "username": null,
    "type": "chat",
    "is_forum": false,
    "member_count": 4
  },
  "timestamp": "2025-10-05T18:13:37Z",
  "media": null
}</pre>
utils.py:67 #INFO     [2025-10-05 21:18:43,993] - root - 0| Event called. MessageEdited
utils.py:67 #INFO     [2025-10-05 21:18:44,332] - root - 0| Request. status: 200. https://tenerife.chat/chat/webhook/telegram/update 
<pre>{
  "type": "message_update",
  "chat_id": -4907822179,
  "message_id": 234,
  "text": "Я его достаю",
  "message_type": 1,
  "topic_id": null,
  "sender": {
    "id": 1643710214,
    "first_name": "san1rope",
    "username": "san1roped",
    "language_code": null
  },
  "chat_info": {
    "title": "Telega",
    "username": null,
    "type": "chat",
    "is_forum": false,
    "member_count": 4
  },
  "timestamp": "2025-10-05T18:18:39Z",
  "media": null
}</pre>
utils.py:67 #INFO     [2025-10-05 21:38:41,660] - root - 0| Event called. MessageDeleted
utils.py:67 #INFO     [2025-10-05 21:38:41,821] - root - 0| Could not obtain the event log, insufficient administrator rights! chat_id: -1003146884684
mtprotosender.py:319 #INFO     [2025-10-05 22:02:47,552] - telethon.network.mtprotosender - 0| Disconnecting from 149.154.167.92:443/TcpFull...
mtprotosender.py:339 #INFO     [2025-10-05 22:02:47,552] - telethon.network.mtprotosender - 0| Disconnection from 149.154.167.92:443/TcpFull complete!
