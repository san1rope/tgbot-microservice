mtprotosender.py:228 #INFO     [2025-10-06 21:16:51,579] - telethon.network.mtprotosender - 0| Connecting to 149.154.167.92:443/TcpFull...
mtprotosender.py:279 #INFO     [2025-10-06 21:16:51,615] - telethon.network.mtprotosender - 0| Connection to 149.154.167.92:443/TcpFull complete!
utils.py:67 #INFO     [2025-10-06 21:16:51,937] - root - 0| Client has been connected!
utils.py:67 #INFO     [2025-10-06 21:16:51,937] - root - 0| Redis has been initialized!
utils.py:67 #INFO     [2025-10-06 21:16:51,937] - root - 0| Prepare to load data in redis...
utils.py:67 #INFO     [2025-10-06 21:16:51,937] - root - 0| Loading messages data from small groups...
utils.py:67 #INFO     [2025-10-06 21:16:52,683] - root - 0| Data from small groups has been loaded!
utils.py:67 #INFO     [2025-10-06 21:16:52,683] - root - 0| Event handlers has been registered!
updates.py:590 #ERROR    [2025-10-06 21:16:54,075] - telethon.client.updates - 0| Unhandled exception on event_new_message
Traceback (most recent call last):
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\client\updates.py", line 574, in _dispatch_update
    await callback(event)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\app\tg\events_catcher.py", line 34, in event_new_message
    topic_id, title, icon_color = await TgTools.get_topic_data_from_msg(msg_obj=event.message)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\app\tg\tg_tools.py", line 180, in get_topic_data_from_msg
    topic_data = await Config.TG_CLIENT(GetForumTopicsByIDRequest(channel=msg_obj.peer_id, topics=topic_id))
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\client\users.py", line 30, in __call__
    return await self._call(self._sender, request, ordered=ordered)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\client\users.py", line 72, in _call
    future = sender.send(request, ordered=ordered)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\network\mtprotosender.py", line 183, in send
    state = RequestState(request)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\network\requeststate.py", line 17, in __init__
    self.data = bytes(request)
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\tl\tlobject.py", line 194, in __bytes__
    return self._bytes()
  File "C:\Users\Valentyn\PycharmProjects\tgbot-microservice\.venv\lib\site-packages\telethon\tl\functions\channels.py", line 1076, in _bytes
    b'\x15\xc4\xb5\x1c',struct.pack('<i', len(self.topics)),b''.join(struct.pack('<i', x) for x in self.topics),
TypeError: object of type 'int' has no len()
mtprotosender.py:319 #INFO     [2025-10-06 21:18:31,314] - telethon.network.mtprotosender - 0| Disconnecting from 149.154.167.92:443/TcpFull...
mtprotosender.py:339 #INFO     [2025-10-06 21:18:31,314] - telethon.network.mtprotosender - 0| Disconnection from 149.154.167.92:443/TcpFull complete!
